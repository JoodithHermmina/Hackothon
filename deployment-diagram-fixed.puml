@startuml ThoughtWorks Resume Builder Deployment Architecture
' Basic styles
skinparam componentStyle uml2
skinparam backgroundColor white
skinparam defaultFontSize 12
skinparam defaultFontColor #333333
skinparam linetype ortho
skinparam packageStyle rectangle

title ThoughtWorks Resume Builder - Deployment Architecture

' Define key nodes
node "Developer Environment" as DevEnv {
  artifact "Source Code" as SourceCode
  component "Pre-commit Hooks" as PreCommitHooks
  component "Local Dev Server" as LocalDev
}

node "GitHub" as GitHub {
  component "Git Repository" as GitRepo
  component "GitHub Actions" as GitHubActions
  component "Security Scan" as SecurityScan
}

cloud "AWS Cloud" as AWSCloud {
  node "VPC" as VPC {
    node "Public Subnet" as PublicSubnet {
      component "Application Load Balancer" as ALB
    }

    node "Private Subnet" as PrivateSubnet {
      node "EC2 Instance Cluster" as EC2Cluster {
        component "Docker Containers" as DockerContainers
      }
    }
  }

  node "S3" as S3
  node "CloudFront" as CloudFront
  node "CloudWatch" as CloudWatch
}

actor "End User" as EndUser

' Key connections
SourceCode --> GitRepo : git push
GitRepo --> GitHubActions : triggers
GitHubActions --> DockerContainers : deploys
EndUser --> CloudFront : static content
EndUser --> ALB : API requests
ALB --> DockerContainers : routes traffic
DockerContainers --> S3 : loads assets
DockerContainers --> CloudWatch : logs

' Zone definitions - using together keyword instead of trying to place nodes inside rectangles
together {
  node DevEnv
  rectangle "Development Zone" #LightGreen
}

together {
  node GitHub
  rectangle "CI/CD Pipeline" #LightBlue
}

together {
  cloud AWSCloud
  rectangle "Production Environment" #LightPink
}

legend
  |= Component |= Description |
  | Development Zone | Local dev environment with pre-commit hooks |
  | CI/CD Pipeline | Automated testing, building, and deployment |
  | Production Environment | AWS infrastructure running the application |
endlegend

@enduml
